import argparse
import time

from egais import get_fsrar_id

parser = argparse.ArgumentParser()
parser.add_argument('--cmd', help='command like resend, act')
parser.add_argument('--ttn', help='ttn')
parser.add_argument('--fb', help='fb')
parser.add_argument('--utm-url', help='utm_url')
args = parser.parse_args()

from egais import query_bcode

fb= (  # 'FB-000003454068155' , 'FB-000002858819081'
    'FB-000004777741203','FB-000003641596920',
    'FB-000003957304511','FB-000004813675196','FB-000004465885364','FB-000004502370100',
    'FB-000004656237279','FB-000004441099635','FB-000004744519265','FB-000004656237267',
    'FB-000003217961919','FB-000003252741072','FB-000004176477621','FB-000004744588314',
    'FB-000003421560611','FB-000003996852137','FB-000004744588315','FB-000004813675195',
    'FB-000004813675187','FB-000004393962139','FB-000004813675175','FB-000004777741207',
    'FB-000003184280343','FB-000004139500878','FB-000003486608000','FB-000004813675190',
    'FB-000004656237260','FB-000004744519279','FB-000004813675186','FB-000004813675194',
    'FB-000004139500882','FB-000004777741209','FB-000003198349168','FB-000003586209224',
    'FB-000004502370124','FB-000003762276604','FB-000004777741206','FB-000003877891204',
    'FB-000003815778684','FB-000004777741194','FB-000004813675200','FB-000004777741205',
    'FB-000004680816439','FB-000004656237270','FB-000004813675181','FB-000002998338561',
    'FB-000004429183649','FB-000004813675169','FB-000004680816462','FB-000004535534286',
    'FB-000004813675167','FB-000004813675198','FB-000004535534307','FB-000004285483110',
    'FB-000004813675178','FB-000002858819058','FB-000003926947084','FB-000003322040263',
    'FB-000004744588321','FB-000002723630570','FB-000003996848791','FB-000004356893582',
    'FB-000004566130211','FB-000002497499524','FB-000002567464274','FB-000003996852139',
    'FB-000004777741188','FB-000004680816455','FB-000004656237258','FB-000004744519281',
    'FB-000004680816458','FB-000002378527212','FB-000003090722546','FB-000003421560615',
    'FB-000003454068182','FB-000003957304505','FB-000004744519250','FB-000004777741187',
    'FB-000004064025419','FB-000004680816419','FB-000004744588291','FB-000004139620495',
    'FB-000004465885373','FB-000004627689021','FB-000003322040273','FB-000004744519271',
    'FB-000004627689013','FB-000004680816466','FB-000003888963007','FB-000004139620508',
    'FB-000004744519280','FB-000004539501941','FB-000004356893585','FB-000004744519259',
    'FB-000003486607982','FB-000004441127848','FB-000003828033451','FB-000002858819067',
    'FB-000004744588308','FB-000004599126698','FB-000002858714172','FB-000004777741200',
    'FB-000002998338542','FB-000002858819064','FB-000002884270950','FB-000002942600672',
    'FB-000002858819078','FB-000003762276596','FB-000003762276594','FB-000004777741176',
    'FB-000002858819057','FB-000004680816454','FB-000003156687277','FB-000004139500913',
    'FB-000004214105667','FB-000002998338544','FB-000003798644376','FB-000002756220518',
    'FB-000002411476820','FB-000002411476821','FB-000002884270952','FB-000003090722545',
    'FB-000004321219092','FB-000003679204977','FB-000003926947068','FB-000004680659228',
    'FB-000003322040257','FB-000004777741212','FB-000004656237292','FB-000004744588320',
    'FB-000004777741185','FB-000004813675189','FB-000002970405786','FB-000003556194087',
    'FB-000004627689050','FB-000004744519268','FB-000003421647327','FB-000002723630554',
    'FB-000004535534270','FB-000004441099640','FB-000004744588292','FB-000003828033437',
    'FB-000004250096516','FB-000003288132898','FB-000003288132897','FB-000003059522900',
    'FB-000003059522899','FB-000003815778683','FB-000002858714173','FB-000003664344212',
    'FB-000002346788829','FB-000002598718219','FB-000002627351974','FB-000004393962124',
    'FB-000003454068161','FB-000003888963028','FB-000003031673961','FB-000003252826066',
    'FB-000003389297981','FB-000003421560616','FB-000003888963012','FB-000004321219122',
    'FB-000004566130222','FB-000003798644369','FB-000003926947080','FB-000003926947081',
    'FB-000004744519246','FB-000002910988035','FB-000004502370125','FB-000004429183648',
    'FB-000004535534293','FB-000003926947066','FB-000003996848788','FB-000003059522882',
    'FB-000003619586072','FB-000004393962112','FB-000003454068189','FB-000004044928576',
    'FB-000004746916194','FB-000004680816463','FB-000004777741211','FB-000003389297965',
    'FB-000004777741183','FB-000004441099658','FB-000004627689052','FB-000004535534279',
    'FB-000004285483124','FB-000004044928575','FB-000004465885377','FB-000004680816456',
    'FB-000004441099639','FB-000004599126691','FB-000003356367631','FB-000003288132919',
    'FB-000003996848820','FB-000004539501942','FB-000002497499507','FB-000002199280958',
    'FB-000002346788838','FB-000004044928574','FB-000002837055953','FB-000002226230275',
    'FB-000002598718231','FB-000004744588290','FB-000002627351966','FB-000002316209809',
    'FB-000002255384985','FB-000003926947003','FB-000002858714183','FB-000002788181113',
    'FB-000002970405784','FB-000002627351957','FB-000002378527205','FB-000002998338554',
    'FB-000002823743704','FB-000003926947082','FB-000004139500872','FB-000003762276603',
    'FB-000003586209216','FB-000003888963040','FB-000004744519272','FB-000004813675199',
    'FB-000004744519276','FB-000004656237314','FB-000003522444249','FB-000004285483094',
    'FB-000004777741177','FB-000003059522905','FB-000004680816460','FB-000004656237310',
    'FB-000004656237315','FB-000003926947085','FB-000004680816446','FB-000004656237306',
    'FB-000004744588293','FB-000004502370149','FB-000004535534299','FB-000003454068173',
    'FB-000004566130218','FB-000004441127876','FB-000004429183645','FB-000004101722519',
    'FB-000004250096492','FB-000004777741193','FB-000004744588309','FB-000003389297971',
    'FB-000003586209225','FB-000002411476833','FB-000002756220522','FB-000003706708188',
    'FB-000003356367616','FB-000004744588305','FB-000004627689024','FB-000004064029929',
    'FB-000003996852131','FB-000004465885359','FB-000004214105639','FB-000004285483099',
    'FB-000004777741190','FB-000004813675176','FB-000003217961918','FB-000003641596916',
    'FB-000003664344205','FB-000002723630566','FB-000002277936735','FB-000002537484077',
    'FB-000004441127875','FB-000003322040260','FB-000003059522907','FB-000004656237271',
    'FB-000003706708190','FB-000003996852135','FB-000003828033441','FB-000004627689060',
    'FB-000003421560599','FB-000003288132902','FB-000002567464268','FB-000003798644371',
    'FB-000003089625416','FB-000003356367615','FB-000004285483106','FB-000003186714705',
    'FB-000002884270958','FB-000004465885370','FB-000003184280331','FB-000003957304508',
    'FB-000003217961914','FB-000003089625406','FB-000002942600655','FB-000003522444268',
    'FB-000004656237281','FB-000004627689033','FB-000003025734159','FB-000003356367612',
    'FB-000003322040252','FB-000002884270953','FB-000004535534277','FB-000003454068147',
    'FB-000003288132911','FB-000002858714155','FB-000003025734155','FB-000002788181120',
    'FB-000003957304523','FB-000004744588289','FB-000004680816417','FB-000004535534268',
    'FB-000004465885353','FB-000004250096510','FB-000003641596906','FB-000004441099642',
    'FB-000002884270956','FB-000003421560614','FB-000004139500883','FB-000003586209238',
    'FB-000003252826047','FB-000003996848793','FB-000002117193803','FB-000002537484061',
    'FB-000002660001662','FB-000003151336140','FB-000003184280390','FB-000003641596923',
    'FB-000002756220530','FB-000002117193799','FB-000004044928570','FB-000004176477639',
    'FB-000003798644377','FB-000003089625425','FB-000004777741215','FB-000003828033423',
    'FB-000003586209231','FB-000004813675184','FB-000004465885367','FB-000004064025409',
    'FB-000004680816442','FB-000004744588307','FB-000003389297993','FB-000003454068185',
    'FB-000002823743695','FB-000003322040269','FB-000003184280384','FB-000004627689048',
    'FB-000002823743680','FB-000004813675192','FB-000004813675191','FB-000004465885376',
    'FB-000002660001654','FB-000004539501934','FB-000003641596924','FB-000002277936742',
    'FB-000003706708202','FB-000004599126713','FB-000003151336128','FB-000002942600651',
    'FB-000003454068174',)

utm_url = args.utm_url or 'http://localhost:8080'
fsrar_id = get_fsrar_id(utm_url)

for fb_x in fb:
    q = query_bcode(utm_url, fsrar_id, fb_x)
    print(q.text)
    time.sleep(60*10 + 30)
